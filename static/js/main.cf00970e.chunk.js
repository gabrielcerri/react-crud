(this["webpackJsonpitci-project"]=this["webpackJsonpitci-project"]||[]).push([[0],{55:function(e,t,n){},61:function(e,t,n){},80:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(30),c=n.n(s),i=(n(55),n(13)),l=n(33),o=n(25),d=n(4),u=n(1),j=function(e){var t=e.text,n=e.onClick;return Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsxs)("button",{type:"button",onClick:n,className:"btn btn-outline-success col-10",children:[" ",t," "]})})},m=n(18),b=n(19),h=(n(61),function(e){var t=e.users,n=e.removeData;return Object(u.jsxs)("table",{className:"table table-dark table-hover mw-100",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Name"}),Object(u.jsx)("th",{children:"Email"}),Object(u.jsx)("th",{children:"Username"})]})}),Object(u.jsx)("tbody",{children:t.length?t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[" ",e.name]}),Object(u.jsxs)("td",{children:[" ",e.email]}),Object(u.jsxs)("td",{children:[" ",e.username]}),Object(u.jsx)("td",{className:"button delete",children:Object(u.jsx)(m.a,{size:"1x",icon:b.d,onClick:function(){return n(e.id)}})})]},e.id)})):Object(u.jsx)("tr",{children:Object(u.jsx)("td",{children:"A\xfan no hay usuarios registrados"})})})]})}),O=n(11),x=n.n(O),p=n(21),f=n(27),v=n.n(f),N=function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()({method:"get",url:"https://jsonplaceholder.typicode.com/users"});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(e){var t={};return e.name?e.name.length>30&&(t.name="Too long! Must be a valid name"):t.name="Required",e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Wrong email addres"):t.email="Required",e.username?/^(?=[a-zA-Z0-9._]{8,20}$)(?!.*[_.]{2})[^_.].*[^_.]$/i.test(e.username)||(t.username="Put a valid username"):t.username="Required",t},w=(n(80),function(){var e=Object(d.f)();return Object(u.jsxs)("div",{className:"header-container",children:[Object(u.jsx)("div",{className:"logo",onClick:function(){e.push("/")},children:Object(u.jsx)(m.a,{size:"2x",icon:b.a})}),Object(u.jsx)("div",{className:"user",children:Object(u.jsxs)("div",{className:"avatar",children:[Object(u.jsx)("div",{className:"icon",children:"NS"}),Object(u.jsx)("div",{className:"username",children:"Name and Surname"})]})}),Object(u.jsx)("div",{className:"logout",children:Object(u.jsx)(m.a,{size:"2x",icon:b.b})})]})}),y=n(17),k=n(23),C=n(16),S=(n(83),n(84),n(85),function(){var e=r.a.useState({loading:!1,users:[],error:null}),t=Object(l.a)(e,2),n=t[0],a=t[1],s=n.loading,c=n.users,i=(n.error,Object(k.d)()),o=i.isModalOpen,d=i.openModal,O=i.closeModal;r.a.useEffect((function(){(function(){var e=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({loading:!0,users:[],error:null});try{setTimeout(Object(p.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:t=e.sent,n=t.data,a({loading:!1,users:n,error:null});case 5:case"end":return e.stop()}}),e)}))),1500)}catch(t){a({loading:!1,users:[],error:t.message})}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var f=Object(C.d)({initialValues:{name:"",email:"",username:""},validate:g,onSubmit:function(){var e=Object(p.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("https://jsonplaceholder.typicode.com/users",t);case 2:n=e.sent,a({users:[].concat(Object(y.a)(c),[n.data])});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),w=function(){var e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("http://jsonplaceholder.typicode.com/users/"+t);case 2:a({users:Object(y.a)(c).filter((function(e){return e.id!==t}))});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?Object(u.jsx)("div",{className:"spinner-container",children:Object(u.jsx)(m.a,{size:"6x",icon:b.c,className:"spinner"})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(h,{users:c,removeData:w}),Object(u.jsx)(j,{onClick:d,text:"Add user"}),Object(u.jsx)("div",{children:Object(u.jsx)(k.b,{children:Object(u.jsxs)(k.a,{id:"1",isOpen:o,transition:k.c.BOTTOM_UP,children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",children:"Add new user"}),Object(u.jsx)("button",{onClick:O,className:"btn btn-outline-danger",children:"Close"})]}),Object(u.jsxs)("form",{onSubmit:f.handleSubmit,children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(u.jsx)("input",{id:"name",name:"name",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.name,className:"form-control"}),f.errors.name?Object(u.jsx)("div",{className:"errors",children:f.errors.name}):null]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(u.jsx)("input",{id:"email",name:"email",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.email,className:"form-control"}),f.errors.email?Object(u.jsx)("div",{className:"errors",children:f.errors.email}):null]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(u.jsx)("input",{id:"username",name:"username",type:"username",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.username,className:"form-control"}),f.errors.username?Object(u.jsx)("div",{className:"errors",children:f.errors.username}):null]}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{disabled:!(f.isValid&&f.dirty),type:"submit",className:"btn btn-success col-12",onClick:O,children:"Add User"})})]})]})})})]})}),A=n(50),B=function(e){var t=e.component,n=Object(A.a)(e,["component"]);return Object(u.jsx)(d.a,Object(i.a)(Object(i.a)({},n),{},{render:function(e){return Object(u.jsx)(t,Object(i.a)(Object(i.a)({},n),e))}}))},E=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(w,{}),Object(u.jsx)(S,{})]})},P=(n(86),n(87),function(e){var t=e.handleSubmit,n=e.errors,a=e.validation;return Object(u.jsx)("div",{className:"container d-flex p-2 bd-highlight",children:Object(u.jsxs)(C.b,{onSubmit:t,className:"form mb-3",children:[Object(u.jsxs)("div",{className:"email",children:[Object(u.jsx)("label",{htmlFor:"email",className:"form-label mt-3",children:"Email"}),Object(u.jsx)(C.a,{className:"form-control",id:"email",name:"email",validate:a,type:"email",placeholder:"Email"}),n.email&&Object(u.jsx)("p",{className:"error",children:n.email})]}),Object(u.jsxs)("div",{className:"password",children:[Object(u.jsx)("label",{className:"form-label mt-3",htmlFor:"password",children:"Password"}),Object(u.jsx)(C.a,{className:"form-control",id:"password",type:"password",name:"password",validate:a,placeholder:"Password"}),n.password&&Object(u.jsx)("p",{className:"error",children:n.password})]}),Object(u.jsx)("div",{className:"text-center mt-3",children:Object(u.jsx)("button",{className:"btn btn-info",type:"submit",children:"Log In"})})]})})}),Z=function(){var e=Object(d.f)(),t="frontenditci@gmail.com",n="frontend1234";return Object(u.jsxs)("div",{className:"container d-flex p-2 bd-highlight",children:[Object(u.jsx)("h1",{className:"header",children:"Login"}),Object(u.jsx)(C.c,{initialValues:{email:"",password:""},onSubmit:function(a,r){a.email===t&&a.password===n?setTimeout((function(){console.log(a),r.setSubmitting(!1),e.push("/home")}),2e3):a.email!==t&&a.password!==n&&setTimeout((function(){r.setSubmitting(!0),alert("Wrong username and/or password")}),2e3)},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Enter a valid email adress"):t.email="Please, enter your email adress",e.password?e.password.length<8&&(t.password="Password is too short"):t.password="Please, enter your password",t},children:function(e){return Object(u.jsx)(P,Object(i.a)({},e))}})]})},_=(n(88),function(){var e=r.a.useState(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],s=function(e){e.preventDefault(),a(!0)};return Object(u.jsx)(o.a,{children:Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{exact:!0,path:"/",handleLogin:s,render:function(e){return Object(u.jsx)(Z,Object(i.a)(Object(i.a)({},e),{},{user:n.toString(),handleLogin:s}))}}),Object(u.jsx)(B,{exact:!0,path:"/home",handleLogout:function(e){e.preventDefault(),a(!1)},component:E})]})})});c.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.cf00970e.chunk.js.map